@startuml
start

:User enters priority command;

:Parse command input;

if (Command format valid?) then (yes)
    :Extract index and priority value;

    if (Priority value valid?) then (yes)
        if (Index within list bounds?) then (yes)
            :Get person at specified index;

            :Create new person with\nupdated priority;

            :Replace old person\nwith edited person in model;

            :Update filtered person list;

            :Display success message;

            stop

        else (no)
            :Throw CommandException\n"Invalid person index";

            :Display error message;

            stop
        endif

    else (no)
        :Throw ParseException\n"Invalid priority value";

        :Display error message;

        stop
    endif

else (no)
    :Throw ParseException\n"Invalid command format";

    :Display error message\nwith usage instructions;

    stop
endif
@enduml
