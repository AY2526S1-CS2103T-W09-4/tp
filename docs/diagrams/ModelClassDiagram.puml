@startuml
!include style.puml
skinparam arrowThickness 1.1
skinparam ArrowColor MODEL_COLOR
skinparam ClassBackgroundColor MODEL_COLOR

package "Model" as ModelPackage <<Rectangle>> {
  class ReadOnlyAddressBook <<interface>>
  class ReadOnlyUserPrefs   <<interface>>
  class Model               <<interface>>
  class AddressBook
  class ModelManager
  class UserPrefs

  class UniquePersonList
  class Person
  class Address
  class Email
  class Name
  class Phone
  class Tag
  class Priority
  class Note

  class I #FFFFFF
}

class HiddenOutside #FFFFFF
HiddenOutside ..> Model

AddressBook -up-|> ReadOnlyAddressBook

ModelManager -up-|> Model
Model .right.> ReadOnlyUserPrefs
Model .left.>  ReadOnlyAddressBook
ModelManager -left->  "1" AddressBook
ModelManager -right-> "1" UserPrefs
UserPrefs -up-|> ReadOnlyUserPrefs

AddressBook *--> "1" UniquePersonList
UniquePersonList --> "~* all" Person
Person *--> Name
Person *--> Phone
Person *--> Email
Person *--> Address
Person *--> "*" Tag
Person *--> Priority
Person *--> Note

Person -[hidden]up--> I
UniquePersonList -[hidden]right-> I

Name  -[hidden]right-> Phone
Phone -[hidden]right-> Address
Address -[hidden]right-> Email

ModelManager --> "~* filtered" Person
@enduml
